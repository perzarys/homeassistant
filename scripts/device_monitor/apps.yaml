device_monitor:
  module: device_monitor
  class: DeviceMonitor
  
  # REQUIRED: Entity & Thresholds
  entity: sensor.fridge_power              # Power sensor entity ID
  threshold_watt: 5.0                      # Activity threshold in watts
  minimum_interval_minutes: 2              # Minimum duration to count as a cycle
  
  # REQUIRED: Timing
  check_interval_seconds: 30               # How often to check (30-60 recommended)
  
  # REQUIRED: InfluxDB Connection
  influx_host: localhost
  influx_port: 8086
  influx_db: homeassistant
  influx_user: homeassistant
  influx_password: your_secure_password
  
  # REQUIRED: Notifications
  notify_service: notify.mobile_app_iphone # Get from Developer tools > Actions
  
  # OPTIONAL: Alert Thresholds (choose ONE)
  margin_percent: 20                       # Deviation threshold as % (e.g., 20%)
  # OR
  # margin_minutes: 5                      # Deviation threshold in minutes
  
  # OPTIONAL: Analysis
  statistic_method: mean                   # 'median' or 'mean'
  history_window_hours: 24                 # Data lookback period
  
  # OPTIONAL: Behavior
  alert_cooldown_minutes: 5                # Prevent alert spam
  influx_measurement_var: device_cycles    # InfluxDB measurement name for cycle data
  send_test_notification: true             # Test notification on startup
  debug_logging: false                     # Verbose logging
